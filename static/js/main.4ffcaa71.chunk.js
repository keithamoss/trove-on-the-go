(this["webpackJsonptrove-on-the-go"]=this["webpackJsonptrove-on-the-go"]||[]).push([[0],{135:function(e,t,a){e.exports=a(273)},271:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(9),o=a.n(l),c=a(122),i=a(300),s=a(123),m=a(13),u=a(301),h=a(302),f=a(57),p=a(56),d=a(119),E=a(27),g=a(31),y=a(295),v=a(294),b=a(296),x=a(303),T=a(297),w=a(298),O=a(299),j=a(291),k=a(125),C=a(118),M=a.n(C),S=a(21),P=a(58),q=n.a.memo((function(e){var t=e.galleryPhotos,a=e.onClose;return n.a.createElement(P.b,null,void 0!==t.photos&&t.photos.length>0&&n.a.createElement(P.a,{onClose:function(){return a()}},n.a.createElement(P.c,{styles:{footer:function(e){return Object(S.a)({},e,{opacity:1,transform:"translateY(0px)",WebkitTransform:"translateY(0px)"})}},currentIndex:t.photoIndex,views:t.photos.map((function(e){return{caption:e.caption,source:{download:e.images.original.url,fullscreen:e.images.original.url,regular:e.images.original.url,thumbnail:e.images.thumbnail.url}}}))})))})),N=a(293),R=a(114),I=a.n(R);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var _=n.a.createElement("title",null,"cup_of_tea"),H=n.a.createElement("path",{d:"M503.2,592.89274l-87.38,144.21.18,14.65q-9.585.07508-18.99-.31994l4.35-188.33-.12-1.45.16-.28.41-17.8-95.88-139.21L401.7,530.25272l.34,3.76,3.28-142.29-82.82-144.32,83.06,119.33-.57-192.44-.18-63h.84l1.49,63,3.08,129.97,75.47-94.38-75.23,114.39,1.65,127.28,69.46-124.22-69.2,142.93.91,70.77,101.01-173.03L413.59,565.72276l2.05,157.37Z",transform:"translate(-220 -111.29276)",fill:"#e6e6e6"}),L=n.a.createElement("polygon",{points:"682.29 438.71 654.64 493 585.37 629 569.47 629 569.81 614.28 486.28 493 473.93 475.07 487.57 493 569.7 600.96 570.04 604.72 572.62 493 573.32 462.43 490.5 318.11 573.56 437.44 572.69 142.65 572.69 141.67 572.72 142.64 578.22 374.97 653.69 280.59 578.46 394.98 579.73 493 580.11 522.26 596.47 493 649.57 398.04 603.59 493 580.37 540.97 581.28 611.74 650.6 493 682.29 438.71",fill:"#e6e6e6"}),A=n.a.createElement("path",{d:"M859.79064,738.38466c0,12.57275-116.406,50.32258-260,50.32258s-260-37.74983-260-50.32258,116.406,4.79262,260,4.79262S859.79064,725.81191,859.79064,738.38466Z",transform:"translate(-220 -111.29276)",fill:"#3f3d56"}),B=n.a.createElement("path",{d:"M859.79064,738.38466c0,12.57275-116.406,50.32258-260,50.32258s-260-37.74983-260-50.32258,116.406,4.79262,260,4.79262S859.79064,725.81191,859.79064,738.38466Z",transform:"translate(-220 -111.29276)",opacity:.2}),U=n.a.createElement("ellipse",{cx:379.79064,cy:627.09189,rx:260,ry:22.76498,fill:"#3f3d56"}),W=n.a.createElement("ellipse",{cx:377.79064,cy:629.3707,rx:107,ry:10,opacity:.2}),D=n.a.createElement("path",{d:"M806.17052,510.92322H689.29064v.74024h-279.5v40.50018c0,104.10559,84.39423,188.49982,188.49982,188.49982h.00036a188.40822,188.40822,0,0,0,162.83246-93.5h45.04724a68.12012,68.12012,0,1,0,0-136.24024Zm0,115.24024H771.70306a187.87964,187.87964,0,0,0,15.08758-73.99982V531.92322h19.37988a47.12012,47.12012,0,1,1,0,94.24024Z",transform:"translate(-220 -111.29276)",fill:"#3f3d56"}),G=n.a.createElement("path",{d:"M427.29064,529.16346v23c0,94.29,76.71045,171,171,171,94.29,0,171-76.71,171-171v-23Z",transform:"translate(-220 -111.29276)",fill:"#6c63ff"}),V=n.a.createElement("path",{d:"M553.57921,691.83153l-39.14805-40.3463a21.39132,21.39132,0,0,1,.45594-30.24845l59.20968-57.4512a15.07125,15.07125,0,0,1,4.90293-3.179l12.861-5.139a15.07129,15.07129,0,0,1,16.40865,3.50019l40.88125,42.13255a15.07127,15.07127,0,0,1,3.20945,16.01046l-4.32624,11.002a15.07137,15.07137,0,0,1-3.5307,5.30112l-60.67547,58.87347A21.39132,21.39132,0,0,1,553.57921,691.83153Z",transform:"translate(-220 -111.29276)",fill:"#e6e6e6"}),z=n.a.createElement("rect",{x:608.31314,y:583.78372,width:27.31034,height:4.09655,transform:"translate(389.29081 -379.79266) rotate(45.86357)",fill:"#3f3d56"}),J=n.a.createElement("path",{d:"M623.82448,586.865c3.46216-8.21239,13.77753-9.98185,21.44955-11.6099,8.15615-1.73078,17.44616-4.7423,20.83431-13.22447a11.24,11.24,0,0,0-1.09541-10.72608c-1.99388-2.8597-5.35065-5.18676-8.98028-4.86174-7.59538.68014-8.94833,9.65118-6.04668,15.31227,3.91673,7.64149,13.97531,8.30731,21.50242,8.49584,7.27156.18213,15.07464-.09679,21.71965-3.38207a17.83785,17.83785,0,0,0,10.01438-16.83762c-.23351-7.33736-3.47133-14.18258-5.40419-21.1553-1.85768-6.70151-2.44211-14.1325,2.50377-19.706,4.79229-5.40042,12.34629-7.53307,19.23393-8.62253,1.76841-.27972,3.54847-.47027,5.33275-.61378,1.9113-.15373,1.9278-3.15506,0-3-12.7701,1.02712-29.50561,5.42681-31.33993,20.50708-.83842,6.8928,1.76634,13.6938,3.8677,20.1291,1.95314,5.98135,4.23823,12.87115,1.73914,19.0407-2.62356,6.47687-9.41624,9.11211-15.85132,10.10037a63.179,63.179,0,0,1-10.47233.567A48.15531,48.15531,0,0,1,660.769,566.0658c-3.38717-.929-6.65267-2.70782-8.25867-5.95792-1.18017-2.38832-1.55733-5.61035-.23424-8.02242a5.19048,5.19048,0,0,1,7.32576-1.83049,8.5832,8.5832,0,0,1,4.36377,8.27192c-1.09688,8.49836-10.81291,11.91132-17.92513,13.49648-7.83449,1.74613-16.67391,3.02577-22.26986,9.437a16.80327,16.80327,0,0,0-2.839,4.60711,1.51008,1.51008,0,0,0,1.04766,1.84518,1.5372,1.5372,0,0,0,1.84518-1.04766Z",transform:"translate(-220 -111.29276)",fill:"#3f3d56"}),X=n.a.createElement("circle",{cx:282.79064,cy:452.3707,r:11,fill:"#e6e6e6"}),Y=n.a.createElement("circle",{cx:484.79064,cy:493.3707,r:11,fill:"#e6e6e6"}),K=n.a.createElement("circle",{cx:429.79064,cy:551.3707,r:8,fill:"#e6e6e6"}),Q=n.a.createElement("path",{d:"M364.60985,734.89808c32.6679,7.28769,68.72037,1.90328,68.72037,1.90328s-16.91266-17.20008-49.58055-24.48776-68.72037-1.90329-68.72037-1.90329S331.942,727.61039,364.60985,734.89808Z",transform:"translate(-220 -111.29276)",fill:"#e6e6e6"}),$=n.a.createElement("path",{d:"M367.83212,747.1873c35.56617,1.02625,65.74587-10.43588,65.74587-10.43588a173.12291,173.12291,0,0,0-63.05059-14.15228c-35.56617-1.02625-65.74588,10.43588-65.74588,10.43588A173.123,173.123,0,0,0,367.83212,747.1873Z",transform:"translate(-220 -111.29276)",fill:"#6c63ff"}),ee=n.a.createElement("path",{d:"M370.35844,722.64051c25.40839,12.8098,62.82729,14.41132,62.82729,14.41132s-3.77625-19.16725-29.18465-31.977-62.82729-14.41132-62.82729-14.41132S344.95,709.83072,370.35844,722.64051Z",transform:"translate(-220 -111.29276)",fill:"#6c63ff"}),te=n.a.createElement("polygon",{points:"760 63 760 0 63 0 0 0 0 63 0 300 0 363 0 624 63 624 63 363 760 363 760 300 63 300 63 63 760 63",fill:"#e6e6e6"}),ae=n.a.createElement("rect",{x:697,y:5,width:63,height:618,fill:"#e6e6e6"}),re=n.a.createElement("path",{d:"M426.79064,529.66346v23c0,94.29,76.71045,171,171,171,94.29,0,171-76.71,171-171v-23Z",transform:"translate(-220 -111.29276)",fill:"#6c63ff",opacity:.3}),ne=n.a.createElement("path",{d:"M340.133,572.30733c-5.80748,9.01245-12.27029,9.30079-17.741,5.77553q-.19061-.12283-.37607-.24961-.37394-.255-.72573-.5269c-4.6654-3.604-6.37025-9.38409-.96931-17.76564,5.5893-8.67387,21.82-13.70656,23.02977-14.07243l.00168,0,.06935-.02079S345.94,563.29562,340.133,572.30733Z",transform:"translate(-220 -111.29276)",fill:"#e6e6e6"}),le=n.a.createElement("path",{d:"M743.133,341.13182c-5.80748,9.01245-12.27029,9.30079-17.741,5.77553q-.19061-.12283-.37607-.24962-.37393-.255-.72573-.52689c-4.6654-3.604-6.37025-9.38409-.96931-17.76565,5.5893-8.67387,21.82-13.70656,23.02977-14.07243l.00168,0,.06935-.0208S748.94,332.1201,743.133,341.13182Z",transform:"translate(-220 -111.29276)",fill:"#e6e6e6"}),oe=n.a.createElement("path",{d:"M513.16781,274.24629c7.26272,7.887,5.91683,14.21463,1.12929,18.62325q-.16682.15362-.33616.30123-.3408.29781-.69244.56994c-4.66124,3.60936-10.68432,3.80612-17.43863-3.52872-6.98987-7.59065-7.77994-24.5653-7.82987-25.82822l.00047-.00162-.0027-.07234S505.90569,266.36,513.16781,274.24629Z",transform:"translate(-220 -111.29276)",fill:"#e6e6e6"}),ce=n.a.createElement("path",{d:"M751.17595,528.04011l-17.22932,8.69105a7.09841,7.09841,0,0,1-9.63006-2.78717l-11.85612-23.50383a4.51619,4.51619,0,0,1-.47664-1.80825l-.22625-4.4635a5.19025,5.19025,0,0,1,2.92976-4.81539l17.99211-9.07583a5.20813,5.20813,0,0,1,5.47774.39819l3.04384,2.31229a4.52456,4.52456,0,0,1,1.30713,1.56551l12.14963,24.0857A7.0984,7.0984,0,0,1,751.17595,528.04011Z",transform:"translate(-220 -111.29276)",fill:"#e6e6e6"}),ie=n.a.createElement("rect",{x:720.10807,y:496.77269,width:9.37458,height:1.30715,transform:"translate(-366.35925 268.44389) rotate(-26.76791)",fill:"#3f3d56"}),se=n.a.createElement("rect",{x:719.13281,y:503.29343,width:20.74828,height:5.99983,transform:"translate(-369.2757 267.50787) rotate(-26.50666)",fill:"#6c63ff"}),me=n.a.createElement("rect",{x:723.13281,y:510.29343,width:20.74828,height:5.99983,transform:"translate(-371.97934 270.0289) rotate(-26.50666)",fill:"#6c63ff"}),ue=n.a.createElement("rect",{x:727.13281,y:518.29343,width:20.74828,height:5.99983,transform:"translate(-375.12929 272.65504) rotate(-26.50666)",fill:"#6c63ff"}),he=function(e){var t=e.svgRef,a=e.title,r=Z(e,["svgRef","title"]);return n.a.createElement("svg",F({id:"a525f49c-389c-445f-ad2c-d5c197cff10c","data-name":"Layer 1",width:760,height:677.41447,viewBox:"0 0 760 677.41447",ref:t},r),void 0===a?_:a?n.a.createElement("title",null,a):null,H,L,A,B,U,W,D,G,V,z,J,X,Y,K,Q,$,ee,te,ae,re,ne,le,oe,ce,ie,se,me,ue)},fe=n.a.forwardRef((function(e,t){return n.a.createElement(he,F({svgRef:t},e))})),pe=(a.p,Object(j.a)({svg:{width:"100%",height:"200px"},title:{opacity:.5,fontWeight:"normal"},message:{opacity:.5}})),de=function(){var e=pe();return n.a.createElement(r.Fragment,null,n.a.createElement(fe,{className:e.svg}),n.a.createElement(k.a,{variant:"h6",align:"center",className:e.title},"No results found"),n.a.createElement(k.a,{variant:"body2",align:"center",className:e.message,gutterBottom:!0},"How about a cuppa?"))},Ee=a(116),ge=function(e){return n.a.createElement(Ee.a,Object.assign({viewBox:"0 0 550 370",foregroundColor:"#e4e4e4",style:{opacity:.8,marginBottom:15}},e),n.a.createElement("rect",{x:"10",y:"10",rx:"5",ry:"5",width:"430",height:"25"}),n.a.createElement("rect",{x:"10",y:"40",rx:"5",ry:"5",width:"215",height:"20"}),n.a.createElement("rect",{x:"10",y:"70",rx:"5",ry:"5",width:"170",height:"95"}),n.a.createElement("rect",{x:"185",y:"70",rx:"5",ry:"5",width:"170",height:"165"}),n.a.createElement("rect",{x:"360",y:"70",rx:"5",ry:"5",width:"170",height:"95"}),n.a.createElement("rect",{x:"10",y:"170",rx:"5",ry:"5",width:"170",height:"190"}),n.a.createElement("rect",{x:"185",y:"240",rx:"5",ry:"5",width:"170",height:"120"}),n.a.createElement("rect",{x:"360",y:"170",rx:"5",ry:"5",width:"170",height:"190"}))},ye=a(25),ve=a.n(ye),be=a(34),xe=a(24),Te=a(117),we=a.n(Te).a.create({baseURL:"https://i5lkkvcbn9.execute-api.ap-southeast-2.amazonaws.com/v1.0.2"});we.interceptors.request.use((function(e){return e.params=e.params||{},e})),we.interceptors.response.use((function(e){var t=e.data.response.zone[0].records;return e.data={total:t.total,nextPageToken:t.nextStart||null,work:"work"in t?t.work:[]},e}));var Oe=function(){var e=Object(be.a)(ve.a.mark((function e(t){var a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.get("/trove_result",{method:"get",params:{q:t.searchTerm,s:t.nextPageToken}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(e,t){switch(t.type){case"FETCH_INIT":return Object(S.a)({},e,{request:t.payload,isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(S.a)({},e,{isLoading:!1,isError:!1,hasMoreResults:null!==t.payload.data.nextPageToken,response:{searchTerm:t.payload.searchTerm,nextPageToken:t.payload.data.nextPageToken,photos:(a=[].concat(Object(xe.a)(null!==e.response?e.response.photos:[]),Object(xe.a)(t.payload.data.work)),r="id",a.filter((function(e,t,a){return a.findIndex((function(t){return t[r]===e[r]}))===t})))}});case"FETCH_FAILURE":return Object(S.a)({},e,{isLoading:!1,isError:!0});case"FETCH_NEXT_PAGE":return Object(S.a)({},e,{request:null!==e.response&&null!==e.response.nextPageToken?{searchTerm:e.response.searchTerm,nextPageToken:e.response.nextPageToken}:e.request});case"RESET":return Object(S.a)({},e,{hasMoreResults:!1,request:t.payload,response:null});default:throw new Error}var a,r},ke=Object(j.a)({galleryContainer:{display:"block",minHeight:"1px",width:"100%",overflow:"auto"}}),Ce=n.a.memo((function(e){var t=e.searchTerm,a=e.onChoosePhoto,l=ke(),o=function(e){var t=Object(r.useReducer)(je,{isLoading:!1,isError:!1,hasMoreResults:!1,request:{searchTerm:e,nextPageToken:null},response:null}),a=Object(g.a)(t,2),l=a[0],o=a[1];return n.a.useEffect((function(){(function(){var e=Object(be.a)(ve.a.mark((function e(){var t;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===l.request||""===l.request.searchTerm){e.next=12;break}return o({type:"FETCH_INIT",payload:l.request}),e.prev=2,e.next=5,Oe(l.request);case 5:t=e.sent,o({type:"FETCH_SUCCESS",payload:{searchTerm:l.request.searchTerm,data:t}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o({type:"FETCH_FAILURE",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[l.request]),n.a.useEffect((function(){null!==l.request&&e!==l.request.searchTerm&&o({type:"RESET",payload:{searchTerm:e,nextPageToken:null}})}),[e,l.request]),{state:l,getNextPage:function(){o({type:"FETCH_NEXT_PAGE"})}}}(t),c=o.state,i=c.isLoading,s=c.hasMoreResults,m=c.response,u=o.getNextPage;return n.a.createElement(r.Fragment,null,null!==m&&0===m.photos.length&&n.a.createElement(de,null),null!==m&&m.photos.filter((function(e){return e.photos.length>0})).map((function(e){return n.a.createElement(r.Fragment,{key:e.id},n.a.createElement("div",null,n.a.createElement(k.a,{gutterBottom:!0,variant:"h6",component:"h6"},e.title),n.a.createElement(k.a,{gutterBottom:!0,variant:"caption"},e.issued,void 0!==e.contributor&&e.contributor.length>0?" (".concat(e.contributor.join(", "),")"):void 0),n.a.createElement("div",{className:l.galleryContainer},n.a.createElement(I.a,{enableLightbox:!1,enableImageSelection:!1,rowHeight:165,onClickThumbnail:function(t){a({photoIndex:t,photos:e.photos})},images:e.photos.map((function(e){return{src:e.images.original.url,thumbnail:e.images.thumbnail.url,thumbnailWidth:e.images.thumbnail.width,thumbnailHeight:e.images.thumbnail.height}}))})),n.a.createElement(N.a,{color:"primary","aria-label":"view-photo-gallery",onClick:function(){return a({photoIndex:0,photos:e.photos})}},"Open Photo Gallery"),n.a.createElement(N.a,{"aria-label":"open-link",href:e.troveUrl,target:"_blank"},"View on Trove"),n.a.createElement("br",null),n.a.createElement("br",null)))})),null!==m&&s&&n.a.createElement(v.a,{container:!0,direction:"row",justify:"center"},n.a.createElement(N.a,{variant:"outlined",color:"primary",disabled:i,onClick:function(){return u()}},"load more")),!0===i&&n.a.createElement(r.Fragment,null,n.a.createElement(ge,null),n.a.createElement(ge,null),n.a.createElement(ge,null)))})),Me=Object(j.a)((function(e){return{root:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginTop:e.spacing(.75),marginBottom:e.spacing(.75),marginLeft:e.spacing(1.25),flex:1}}})),Se=function(){var e=Me(),t=n.a.useState(null),a=Object(g.a)(t,2),l=a[0],o=a[1],c=n.a.useState(null),i=Object(g.a)(c,2),s=i[0],m=i[1];return n.a.createElement(r.Fragment,null,n.a.createElement(y.a,{component:"main",maxWidth:"sm"},n.a.createElement("div",{className:e.root},n.a.createElement(k.a,{component:"h1",variant:"h1"},n.a.createElement("span",{role:"img","aria-label":"Female detective emoji"},"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f")),n.a.createElement(v.a,{container:!0,style:{marginTop:25}},n.a.createElement(v.a,{item:!0,style:{width:"100%"}},n.a.createElement(b.a,{component:"form",className:e.form,onSubmit:function(e){e.preventDefault();var t=e.target.elements.namedItem("search");null!==t&&t.value.length>0&&o(t.value)}},n.a.createElement(x.a,{className:e.input,placeholder:"Search Trove",inputProps:{name:"search",enterkeyhint:"search","aria-label":"search trove"},defaultValue:l,endAdornment:n.a.createElement(T.a,{position:"end"},n.a.createElement(w.a,{type:"submit",color:"primary","aria-label":"submit search form"},n.a.createElement(M.a,null)))}))),n.a.createElement(v.a,{container:!0,style:{marginTop:25}},n.a.createElement(v.a,{item:!0,style:{width:"100%"}},null!==l&&n.a.createElement(Ce,{searchTerm:l,onChoosePhoto:m}),null!==s&&s.photos.length>0&&n.a.createElement(q,{galleryPhotos:s,onClose:function(){return m(null)}}))),n.a.createElement(v.a,{container:!0,style:{marginTop:25}},n.a.createElement(v.a,{item:!0,xs:!0},n.a.createElement(O.a,{href:"https://trove.nla.gov.au/",variant:"overline",display:"block",align:"center"},"Made with Trove"," ",n.a.createElement("span",{role:"img","aria-label":"Love heart emoji"},"\u2764\ufe0f"))))))))},Pe=function(){var e=Object(i.a)("(prefers-color-scheme: dark)",{defaultMatches:null}),t=n.a.useMemo((function(){return Object(s.a)({palette:{type:e?"dark":"light",background:{default:e?"#303030":"#ffffff"},primary:{main:e?f.a[200]:f.a[700]},secondary:{main:e?p.a[200]:Object(m.a)(p.a.A400,.1)}}})}),[e]);return null===e?null:n.a.createElement(u.a,{theme:t},n.a.createElement(d.a,null,n.a.createElement(E.c,null,n.a.createElement(r.Fragment,null,n.a.createElement(h.a,null),n.a.createElement("div",{className:"container"},n.a.createElement(E.a,{path:"/",component:Se,exact:!0}))))))},qe=(a(271),a(33)),Ne=a(121),Re={value:0},Ie=Object(qe.combineReducers)({count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT_COUNTER":return Object(S.a)({},e,{value:e.value+1});case"DECREMENT_COUNTER":return Object(S.a)({},e,{value:e.value-1});default:return e}}}),Fe=Object(qe.createStore)(Ie,Object(Ne.devToolsEnhancer)({}));o.a.render(n.a.createElement(c.a,{store:Fe},n.a.createElement(Pe,null)),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.4ffcaa71.chunk.js.map